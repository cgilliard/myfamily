steps:
  - script: |
      ./configure
      make clean test
    displayName: macOS Test
    condition: eq( variables['Agent.OS'], 'Darwin' )
  - script: |
      ./configure
      make clean test
    displayName: Linux Test
    condition: eq( variables['Agent.OS'], 'Linux' )
  - script: |
      ./scripts/build_docs.sh
    displayName: Documentation
    condition: and(succeeded(), in(variables['Build.Reason'], 'Manual', 'Scheduled'))
