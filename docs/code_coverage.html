<!DOCTYPE html>
<html>
	<head>
		<title>Code Coverage Report</title>
		<script src="chart.js"></script>
		<style>
			.chart {
				width: 900px;
			}
			.textarea {
				overflow:auto;
				resize:none;
			}
		</style>
	</head>
	<body>
		 <p align="center">
                        Code Coverage is currently %.
                </p>
		<center>
			<div class="chart">
				<canvas id="chart"></canvas>
			</div>

			<div class="chart">
				<canvas id="chart2"></canvas>
			</div>
		</center>
		<script>
			function format_date(timestamp, time_frame) {
				var date = new Date(timestamp);
				var day_of_month = date.getDate();
				var full_year = date.getFullYear();
				var month = 1 + date.getMonth();
				var hours = date.getHours();
				var minutes = date.getMinutes();
				var seconds = date.getSeconds();
				var am_pm = 'AM';

				if(seconds < 10) {
					seconds = '0' + seconds;
				}
				if(minutes < 10) {
					minutes = '0' + minutes;
				}
				if(hours == 12) {
					am_pm = 'PM';
				} else if(hours > 12) {
					hours -= 12;
					am_pm = 'PM';
				}
				if(hours == 0) {
					hours = 12;
				}

				return month + '/' + day_of_month + '/' + full_year + ' ' +
					hours + ':' + minutes + ':' + seconds + ' ' + am_pm;
			}

			let raw_data = [16.67,
15.45,
15.45,
15.45,
15.92,
15.92,
15.92,
15.92,
15.92,
15.92,
18.75,
19.07,
20.31,
20.31,
23.09,
23.24,
23.24,
23.24,
23.24,
23.27,
24.76,
24.76,
24.82,
25.79,
26.99,
27.28,
27.28,
26.85,
27.94,
27.79,
29.82,
30.19,
30.82,
31.75,
31.75,
31.75,
36.85,
38.97,
39.99,
39.99,
40.27,
40.27,
43.05,
42.62,
41.79,
40.09,
39.25,
39.15,
35.92,
34.82,
33.84,
33.52,
33.52,
87.04,
75.81,
75.81,
75.81,
100.00,
100.00,
77.60,
94.58,
98.67,
98.67,
98.49,
95.47,
95.47,
92.49,
91.22,
89.82,
88.53,
89.27,
89.27,
88.04,
90.04,
85.84,
85.27,
88.50,
87.40,
87.66,
87.15,
87.30,
87.50,
87.63,
87.82,
85.41,
85.46,
85.99,];
			let labels = [format_date(1724296044 * 1000 ),
format_date(1724297686 * 1000 ),
format_date(1724303299 * 1000 ),
format_date(1724310067 * 1000 ),
format_date(1724342762 * 1000 ),
format_date(1724342955 * 1000 ),
format_date(1724344312 * 1000 ),
format_date(1724346969 * 1000 ),
format_date(1724352193 * 1000 ),
format_date(1724396488 * 1000 ),
format_date(1724455036 * 1000 ),
format_date(1724474307 * 1000 ),
format_date(1724476633 * 1000 ),
format_date(1724483101 * 1000 ),
format_date(1724544901 * 1000 ),
format_date(1724550213 * 1000 ),
format_date(1724550997 * 1000 ),
format_date(1724551319 * 1000 ),
format_date(1724551477 * 1000 ),
format_date(1724569481 * 1000 ),
format_date(1724655686 * 1000 ),
format_date(1724742099 * 1000 ),
format_date(1724828485 * 1000 ),
format_date(1724914886 * 1000 ),
format_date(1725001329 * 1000 ),
format_date(1725087686 * 1000 ),
format_date(1725174394 * 1000 ),
format_date(1725260504 * 1000 ),
format_date(1725346894 * 1000 ),
format_date(1725433283 * 1000 ),
format_date(1725519694 * 1000 ),
format_date(1725606084 * 1000 ),
format_date(1725692834 * 1000 ),
format_date(1725865368 * 1000 ),
format_date(1725951719 * 1000 ),
format_date(1726038163 * 1000 ),
format_date(1726124520 * 1000 ),
format_date(1726210984 * 1000 ),
format_date(1726277993 * 1000 ),
format_date(1726297586 * 1000 ),
format_date(1726385316 * 1000 ),
format_date(1726387289 * 1000 ),
format_date(1726470224 * 1000 ),
format_date(1726556585 * 1000 ),
format_date(1726643010 * 1000 ),
format_date(1726729427 * 1000 ),
format_date(1726815799 * 1000 ),
format_date(1726902338 * 1000 ),
format_date(1726988833 * 1000 ),
format_date(1727074978 * 1000 ),
format_date(1727161381 * 1000 ),
format_date(1727247779 * 1000 ),
format_date(1727334198 * 1000 ),
format_date(1727402683 * 1000 ),
format_date(1727415283 * 1000 ),
format_date(1727415807 * 1000 ),
format_date(1727422054 * 1000 ),
format_date(1727468210 * 1000 ),
format_date(1727508292 * 1000 ),
format_date(1727531970 * 1000 ),
format_date(1727577553 * 1000 ),
format_date(1727582415 * 1000 ),
format_date(1727594701 * 1000 ),
format_date(1727635727 * 1000 ),
format_date(1727636280 * 1000 ),
format_date(1727681276 * 1000 ),
format_date(1727767685 * 1000 ),
format_date(1727842711 * 1000 ),
format_date(1727940472 * 1000 ),
format_date(1728026901 * 1000 ),
format_date(1728113262 * 1000 ),
format_date(1728136250 * 1000 ),
format_date(1728199645 * 1000 ),
format_date(1728286097 * 1000 ),
format_date(1728578967 * 1000 ),
format_date(1728631747 * 1000 ),
format_date(1728718010 * 1000 ),
format_date(1728804421 * 1000 ),
format_date(1728891122 * 1000 ),
format_date(1728977419 * 1000 ),
format_date(1729063754 * 1000 ),
format_date(1729150193 * 1000 ),
format_date(1729236545 * 1000 ),
format_date(1729322913 * 1000 ),
format_date(1729409361 * 1000 ),
format_date(1729495804 * 1000 ),
format_date(1729582257 * 1000 ),];
			let raw_data2 = [1752,
1638,
1638,
1638,
1639,
1639,
1639,
1639,
1639,
1639,
1717,
1725,
1768,
1768,
1836,
1859,
1859,
1859,
1859,
1861,
1910,
1910,
1910,
1931,
1975,
1983,
1983,
1996,
2001,
2001,
2059,
2067,
2086,
2142,
2142,
2142,
3194,
3177,
3353,
3353,
3742,
3742,
4230,
4409,
4496,
4690,
4787,
4799,
5231,
5397,
5553,
5605,
5605,
324,
372,
372,
372,
390,
425,
759,
1125,
1126,
1126,
1129,
1523,
1523,
1677,
1903,
2162,
2346,
2544,
2544,
2583,
2560,
3015,
3149,
2521,
2769,
3039,
3144,
3149,
3664,
3758,
3850,
3858,
4043,
4069,];
                        let raw_data3 = [292,
253,
253,
253,
261,
261,
261,
261,
261,
261,
322,
329,
359,
359,
424,
432,
432,
432,
432,
433,
473,
473,
474,
498,
533,
541,
541,
536,
559,
556,
614,
624,
643,
680,
680,
680,
1177,
1238,
1341,
1341,
1507,
1507,
1821,
1879,
1879,
1880,
1879,
1879,
1879,
1879,
1879,
1879,
1879,
282,
282,
282,
282,
390,
425,
589,
1064,
1111,
1111,
1112,
1454,
1454,
1551,
1736,
1942,
2077,
2271,
2271,
2274,
2305,
2588,
2685,
2231,
2420,
2664,
2740,
2749,
3206,
3293,
3381,
3295,
3455,
3499,];

			const data = {
				labels: labels,
				datasets: [{
					label: 'Code Coverage',
					backgroundColor: 'rgb(31,176,245)',
					borderColor: 'rgb(31,176,245)',
					data: raw_data,
				}]
			};

			const data2 = {
                                labels: labels,
                                datasets: [{
                                        label: 'Lines of Code',
                                        backgroundColor: 'rgb(31,176,245)',
                                        borderColor: 'rgb(31,176,245)',
                                        data: raw_data2,
                                },
                                {
                                        label: 'Covered Lines',
                                        backgroundColor: 'rgb(240,128,128)',
                                        borderColor: 'rgb(240,128,128)',
                                        data: raw_data3,
                                }]
                        };

			const config = {
				type: 'line',
				data: data,
				options: {}
			};

			const config2 = {
				type: 'line',
				data: data2,
				options: {}
			};

			const chart = new Chart(
				document.getElementById('chart'),
				config
			);

			const chart2 = new Chart(
				document.getElementById('chart2'),
				config2
			);

		</script>

		<p align="center">
		<a href="https://raw.githubusercontent.com/cgilliard/myfamily/main/docs/gcov_cat.txt">Raw gcov output</a>
		</p>
	</body>
</html>

